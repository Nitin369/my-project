\hypertarget{classPoco_1_1NotificationCenter}{}\doxysection{Poco\+::Notification\+Center Class Reference}
\label{classPoco_1_1NotificationCenter}\index{Poco::NotificationCenter@{Poco::NotificationCenter}}


{\ttfamily \#include $<$Notification\+Center.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classPoco_1_1NotificationCenter_a802d315b5eeb319d8abc44658a79b5fa}{Notification\+Center}} ()
\item 
\mbox{\hyperlink{classPoco_1_1NotificationCenter_a60097d098670f87fa06ea2701d4464b9}{$\sim$\+Notification\+Center}} ()
\begin{DoxyCompactList}\small\item\em Creates the \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classPoco_1_1NotificationCenter_a36fa984a40c2080ea5a8b2b9c5da3680}{add\+Observer}} (\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractObserver}{Abstract\+Observer}} \&observer)
\begin{DoxyCompactList}\small\item\em Destroys the \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classPoco_1_1NotificationCenter_aa47beb5100bdf9767d7e6f414fbb0f03}{remove\+Observer}} (\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractObserver}{Abstract\+Observer}} \&observer)
\item 
bool \mbox{\hyperlink{classPoco_1_1NotificationCenter_a631e3a5114b3cf3396c9944cb3442506}{has\+Observer}} (\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractObserver}{Abstract\+Observer}} \&observer) \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\begin{DoxyCompactList}\small\item\em Unregisters an observer with the \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classPoco_1_1NotificationCenter_a62a95e88ecc25a09ba1562f1a27c33b4}{post\+Notification}} (\mbox{\hyperlink{classPoco_1_1Notification_a135c7b6ff2d0e72b57b40c52534c7744}{Notification\+::\+Ptr}} p\+Notification, \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} long timeout=0)
\begin{DoxyCompactList}\small\item\em Returns true if the observer is registered with this \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classPoco_1_1NotificationCenter_ab78e01011c82464a58886b9edf616857}{has\+Observers}} () \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\item 
std\+::size\+\_\+t \mbox{\hyperlink{classPoco_1_1NotificationCenter_a9f4ee966ef5af7994779e5486366cf59}{count\+Observers}} () \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}} \& \mbox{\hyperlink{classPoco_1_1NotificationCenter_aa00128fcf2fb07e0383857181686c1c8}{default\+Center}} ()
\begin{DoxyCompactList}\small\item\em Returns the number of registered observers. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}} is essentially a notification dispatcher. It notifies all observers of notifications meeting specific criteria. This information is encapsulated in \mbox{\hyperlink{classPoco_1_1Notification}{Notification}} objects. Client objects register themselves with the notification center as observers of specific notifications posted by other objects. When an event occurs, an object posts an appropriate notification to the notification center. The notification ~\newline
 center invokes the registered method on each matching observer, passing the notification as argument.

The order in which observers receive notifications is undefined. It is possible for the posting object and the observing object to be the same. The \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}} delivers notifications to observers synchronously. In other words the \mbox{\hyperlink{classPoco_1_1NotificationCenter_a62a95e88ecc25a09ba1562f1a27c33b4}{post\+Notification()}} method does not return until all observers have received and processed the notification. If an observer throws an exception while handling a notification, the \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}} stops dispatching the notification and \mbox{\hyperlink{classPoco_1_1NotificationCenter_a62a95e88ecc25a09ba1562f1a27c33b4}{post\+Notification()}} rethrows the exception.

In a multithreaded scenario, notifications are always delivered in the thread in which the notification was posted, which may not be the same thread in which an observer registered itself.

The \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}} class is basically a C++ implementation of the N\+S\+Notification\+Center class found in Apple\textquotesingle{}s Cocoa (or Open\+Step).

While handling a notification, an observer can unregister itself from the notification center, or it can register or unregister other observers. Observers added during a dispatch cycle will not receive the current notification.

The method receiving the notification must be implemented as void handle\+Notification(\+My\+Notification$\ast$ p\+Nf); The handler method gets co-\/ownership of the \mbox{\hyperlink{classPoco_1_1Notification}{Notification}} object and must release it when done. This is best done with an \mbox{\hyperlink{classPoco_1_1AutoPtr}{Auto\+Ptr}}\+: void My\+Class\+::handle\+Notification(\+My\+Notification$\ast$ p\+Nf) \{ Auto\+Ptr$<$\+My\+Notification$>$ nf(p\+Nf); ... \}

Alternatively, the \mbox{\hyperlink{classPoco_1_1NObserver}{N\+Observer}} class template can be used to register a callback method. In this case, the callback method receives the \mbox{\hyperlink{classPoco_1_1Notification}{Notification}} in an \mbox{\hyperlink{classPoco_1_1AutoPtr}{Auto\+Ptr}} and thus does not have to deal with object ownership issues\+: void My\+Class\+::handle\+Notification(const Auto\+Ptr$<$\+My\+Notification$>$\& p\+Nf) \{ ... \} 

Definition at line 37 of file Notification\+Center.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classPoco_1_1NotificationCenter_a802d315b5eeb319d8abc44658a79b5fa}\label{classPoco_1_1NotificationCenter_a802d315b5eeb319d8abc44658a79b5fa}} 
\index{Poco::NotificationCenter@{Poco::NotificationCenter}!NotificationCenter@{NotificationCenter}}
\index{NotificationCenter@{NotificationCenter}!Poco::NotificationCenter@{Poco::NotificationCenter}}
\doxysubsubsection{\texorpdfstring{NotificationCenter()}{NotificationCenter()}}
{\footnotesize\ttfamily Poco\+::\+Notification\+Center\+::\+Notification\+Center (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classPoco_1_1NotificationCenter_a60097d098670f87fa06ea2701d4464b9}\label{classPoco_1_1NotificationCenter_a60097d098670f87fa06ea2701d4464b9}} 
\index{Poco::NotificationCenter@{Poco::NotificationCenter}!````~NotificationCenter@{$\sim$NotificationCenter}}
\index{````~NotificationCenter@{$\sim$NotificationCenter}!Poco::NotificationCenter@{Poco::NotificationCenter}}
\doxysubsubsection{\texorpdfstring{$\sim$NotificationCenter()}{~NotificationCenter()}}
{\footnotesize\ttfamily Poco\+::\+Notification\+Center\+::$\sim$\+Notification\+Center (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creates the \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}. 



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classPoco_1_1NotificationCenter_a36fa984a40c2080ea5a8b2b9c5da3680}\label{classPoco_1_1NotificationCenter_a36fa984a40c2080ea5a8b2b9c5da3680}} 
\index{Poco::NotificationCenter@{Poco::NotificationCenter}!addObserver@{addObserver}}
\index{addObserver@{addObserver}!Poco::NotificationCenter@{Poco::NotificationCenter}}
\doxysubsubsection{\texorpdfstring{addObserver()}{addObserver()}}
{\footnotesize\ttfamily void Poco\+::\+Notification\+Center\+::add\+Observer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractObserver}{Abstract\+Observer}} \&}]{observer }\end{DoxyParamCaption})}



Destroys the \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}. 

\mbox{\Hypertarget{classPoco_1_1NotificationCenter_a9f4ee966ef5af7994779e5486366cf59}\label{classPoco_1_1NotificationCenter_a9f4ee966ef5af7994779e5486366cf59}} 
\index{Poco::NotificationCenter@{Poco::NotificationCenter}!countObservers@{countObservers}}
\index{countObservers@{countObservers}!Poco::NotificationCenter@{Poco::NotificationCenter}}
\doxysubsubsection{\texorpdfstring{countObservers()}{countObservers()}}
{\footnotesize\ttfamily std\+::size\+\_\+t Poco\+::\+Notification\+Center\+::count\+Observers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns true iff there is at least one registered observer.

Can be used to improve performance if an expensive notification shall only be created and posted if there are any observers. Here is the caller graph for this function\+:
% FIG 0
\mbox{\Hypertarget{classPoco_1_1NotificationCenter_aa00128fcf2fb07e0383857181686c1c8}\label{classPoco_1_1NotificationCenter_aa00128fcf2fb07e0383857181686c1c8}} 
\index{Poco::NotificationCenter@{Poco::NotificationCenter}!defaultCenter@{defaultCenter}}
\index{defaultCenter@{defaultCenter}!Poco::NotificationCenter@{Poco::NotificationCenter}}
\doxysubsubsection{\texorpdfstring{defaultCenter()}{defaultCenter()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}\& Poco\+::\+Notification\+Center\+::default\+Center (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns the number of registered observers. 

\mbox{\Hypertarget{classPoco_1_1NotificationCenter_a631e3a5114b3cf3396c9944cb3442506}\label{classPoco_1_1NotificationCenter_a631e3a5114b3cf3396c9944cb3442506}} 
\index{Poco::NotificationCenter@{Poco::NotificationCenter}!hasObserver@{hasObserver}}
\index{hasObserver@{hasObserver}!Poco::NotificationCenter@{Poco::NotificationCenter}}
\doxysubsubsection{\texorpdfstring{hasObserver()}{hasObserver()}}
{\footnotesize\ttfamily bool Poco\+::\+Notification\+Center\+::has\+Observer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractObserver}{Abstract\+Observer}} \&}]{observer }\end{DoxyParamCaption}) const}



Unregisters an observer with the \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}. 

Here is the caller graph for this function\+:
% FIG 1
\mbox{\Hypertarget{classPoco_1_1NotificationCenter_ab78e01011c82464a58886b9edf616857}\label{classPoco_1_1NotificationCenter_ab78e01011c82464a58886b9edf616857}} 
\index{Poco::NotificationCenter@{Poco::NotificationCenter}!hasObservers@{hasObservers}}
\index{hasObservers@{hasObservers}!Poco::NotificationCenter@{Poco::NotificationCenter}}
\doxysubsubsection{\texorpdfstring{hasObservers()}{hasObservers()}}
{\footnotesize\ttfamily bool Poco\+::\+Notification\+Center\+::has\+Observers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Posts a notification to the \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}. The \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}} then delivers the notification to all interested observers. If an observer throws an exception, dispatching terminates and the exception is rethrown to the caller. Ownership of the notification object is claimed and the notification is released before returning. Therefore, a call like notification\+Center.\+post\+Notification(new My\+Notification); does not result in a memory leak. Here is the caller graph for this function\+:
% FIG 2
\mbox{\Hypertarget{classPoco_1_1NotificationCenter_a62a95e88ecc25a09ba1562f1a27c33b4}\label{classPoco_1_1NotificationCenter_a62a95e88ecc25a09ba1562f1a27c33b4}} 
\index{Poco::NotificationCenter@{Poco::NotificationCenter}!postNotification@{postNotification}}
\index{postNotification@{postNotification}!Poco::NotificationCenter@{Poco::NotificationCenter}}
\doxysubsubsection{\texorpdfstring{postNotification()}{postNotification()}}
{\footnotesize\ttfamily void Poco\+::\+Notification\+Center\+::post\+Notification (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classPoco_1_1Notification_a135c7b6ff2d0e72b57b40c52534c7744}{Notification\+::\+Ptr}}}]{p\+Notification,  }\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} long}]{timeout = {\ttfamily 0} }\end{DoxyParamCaption})}



Returns true if the observer is registered with this \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}. 

\mbox{\Hypertarget{classPoco_1_1NotificationCenter_aa47beb5100bdf9767d7e6f414fbb0f03}\label{classPoco_1_1NotificationCenter_aa47beb5100bdf9767d7e6f414fbb0f03}} 
\index{Poco::NotificationCenter@{Poco::NotificationCenter}!removeObserver@{removeObserver}}
\index{removeObserver@{removeObserver}!Poco::NotificationCenter@{Poco::NotificationCenter}}
\doxysubsubsection{\texorpdfstring{removeObserver()}{removeObserver()}}
{\footnotesize\ttfamily void Poco\+::\+Notification\+Center\+::remove\+Observer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractObserver}{Abstract\+Observer}} \&}]{observer }\end{DoxyParamCaption})}

Registers an observer with the \mbox{\hyperlink{classPoco_1_1NotificationCenter}{Notification\+Center}}. Usage\+: Observer$<$\+My\+Class, My\+Notification$>$ obs($\ast$this, \&\+My\+Class\+::handle\+Notification); notification\+Center.\+add\+Observer(obs);

Alternatively, the \mbox{\hyperlink{classPoco_1_1NObserver}{N\+Observer}} template class can be used instead of \mbox{\hyperlink{classPoco_1_1Observer}{Observer}}. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
App\+Frame\+Work/include/\+Poco/\mbox{\hyperlink{NotificationCenter_8h}{Notification\+Center.\+h}}\end{DoxyCompactItemize}
