\hypertarget{classPoco_1_1Data_1_1TypeHandler}{}\doxysection{Poco\+::Data\+::Type\+Handler$<$ T $>$ Class Template Reference}
\label{classPoco_1_1Data_1_1TypeHandler}\index{Poco::Data::TypeHandler$<$ T $>$@{Poco::Data::TypeHandler$<$ T $>$}}


{\ttfamily \#include $<$Type\+Handler.\+h$>$}



Inheritance diagram for Poco\+::Data\+::Type\+Handler$<$ T $>$\+:
% FIG 0


Collaboration diagram for Poco\+::Data\+::Type\+Handler$<$ T $>$\+:
% FIG 1
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classPoco_1_1Data_1_1TypeHandler_abfd40dc3b47d4960f89451d4196f778e}{bind}} (std\+::size\+\_\+t pos, \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} T \&obj, \mbox{\hyperlink{classPoco_1_1Data_1_1AbstractBinder_abb789b02aecff38d6164a8c2e945f1d5}{Abstract\+Binder\+::\+Ptr}} p\+Binder, \mbox{\hyperlink{classPoco_1_1Data_1_1AbstractBinder_a1710fafa44d5c860062fd058613aa40f}{Abstract\+Binder\+::\+Direction}} dir)
\item 
static std\+::size\+\_\+t \mbox{\hyperlink{classPoco_1_1Data_1_1TypeHandler_afedafb290457c7cac801ad8e82cea164}{size}} ()
\item 
static void \mbox{\hyperlink{classPoco_1_1Data_1_1TypeHandler_ad177791e2939d369db0e48426879070b}{extract}} (std\+::size\+\_\+t pos, T \&obj, \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} T \&def\+Val, \mbox{\hyperlink{classPoco_1_1Data_1_1AbstractExtractor_a350697d225d9a3ff610a41074ecb6439}{Abstract\+Extractor\+::\+Ptr}} p\+Ext)
\item 
static void \mbox{\hyperlink{classPoco_1_1Data_1_1TypeHandler_abe0ce94e087c5dbb986a063818fecbea}{prepare}} (std\+::size\+\_\+t pos, \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} T \&obj, \mbox{\hyperlink{classPoco_1_1Data_1_1AbstractPreparator_a93a2a279420ab875c6d2d989f912dc24}{Abstract\+Preparator\+::\+Ptr}} p\+Preparator)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class T$>$\newline
class Poco\+::\+Data\+::\+Type\+Handler$<$ T $>$}

Converts Rows to a Type and the other way around. Provide template specializations to support your own complex types. \begin{DoxyVerb}Take as example the following (simplified) class:
class Person
{
private:
    std::string _lastName;
    std::string _firstName;
    int      _age;
public:
    const std::string& getLastName();
    [...] // other set/get methods (returning const reference), a default constructor, 
    [...] // optional < operator (for set, multiset) or function operator (for map, multimap)
};

The TypeHandler must provide a custom bind, size, prepare and extract method:

template <>
class TypeHandler<struct Person>
{
public:
    static std::size_t size()
    {
        return 3; // lastName + firstname + age occupy three columns
    }

    static void bind(std::size_t pos, const Person& obj, AbstractBinder::Ptr pBinder, AbstractBinder::Direction dir)
    {
        // the table is defined as Person (LastName VARCHAR(30), FirstName VARCHAR, Age INTEGER(3))
        // Note that we advance pos by the number of columns the datatype uses! For string/int this is one.
        poco_assert_dbg (!pBinder.isNull());
        TypeHandler<std::string>::bind(pos++, obj.getLastName(), pBinder, dir);
        TypeHandler<std::string>::bind(pos++, obj.getFirstName(), pBinder, dir);
        TypeHandler<int>::bind(pos++, obj.getAge(), pBinder, dir);
    }

    static void prepare(std::size_t pos, const Person& obj, AbstractPreparator::Ptr pPreparator)
    {
        // the table is defined as Person (LastName VARCHAR(30), FirstName VARCHAR, Age INTEGER(3))
        poco_assert_dbg (!pPreparator.isNull());
        TypeHandler<std::string>::prepare(pos++, obj.getLastName(), pPreparator);
        TypeHandler<std::string>::prepare(pos++, obj.getFirstName(), pPreparator);
        TypeHandler<int>::prepare(pos++, obj.getAge(), pPreparator);
    }

    static void extract(std::size_t pos, Person& obj, const Person& defVal, AbstractExtractor::Ptr pExt)
    {
        // defVal is the default person we should use if we encunter NULL entries, so we take the individual fields
        // as defaults. You can do more complex checking, ie return defVal if only one single entry of the fields is null etc...
        poco_assert_dbg (!pExt.isNull());
        std::string lastName;
        std::string firstName;
        int age = 0;
        // the table is defined as Person (LastName VARCHAR(30), FirstName VARCHAR, Age INTEGER(3))
        TypeHandler<std::string>::extract(pos++, lastName, defVal.getLastName(), pExt);
        TypeHandler<std::string>::extract(pos++, firstName, defVal.getFirstName(), pExt);
        TypeHandler<int>::extract(pos++, age, defVal.getAge(), pExt);
        obj.setLastName(lastName);
        obj.setFirstName(firstName);
        obj.setAge(age);
    }
};

Note that the TypeHandler template specialization must always be declared in the namespace Poco::Data.
Apart from that no further work is needed. One can now use Person with into and use clauses. 
\end{DoxyVerb}
 

Definition at line 52 of file Type\+Handler.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classPoco_1_1Data_1_1TypeHandler_abfd40dc3b47d4960f89451d4196f778e}\label{classPoco_1_1Data_1_1TypeHandler_abfd40dc3b47d4960f89451d4196f778e}} 
\index{Poco::Data::TypeHandler$<$ T $>$@{Poco::Data::TypeHandler$<$ T $>$}!bind@{bind}}
\index{bind@{bind}!Poco::Data::TypeHandler$<$ T $>$@{Poco::Data::TypeHandler$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{bind()}{bind()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
static void \mbox{\hyperlink{classPoco_1_1Data_1_1TypeHandler}{Poco\+::\+Data\+::\+Type\+Handler}}$<$ T $>$\+::bind (\begin{DoxyParamCaption}\item[{std\+::size\+\_\+t}]{pos,  }\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} T \&}]{obj,  }\item[{\mbox{\hyperlink{classPoco_1_1Data_1_1AbstractBinder_abb789b02aecff38d6164a8c2e945f1d5}{Abstract\+Binder\+::\+Ptr}}}]{p\+Binder,  }\item[{\mbox{\hyperlink{classPoco_1_1Data_1_1AbstractBinder_a1710fafa44d5c860062fd058613aa40f}{Abstract\+Binder\+::\+Direction}}}]{dir }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 120 of file Type\+Handler.\+h.

Here is the call graph for this function\+:
% FIG 2
Here is the caller graph for this function\+:
% FIG 3
\mbox{\Hypertarget{classPoco_1_1Data_1_1TypeHandler_ad177791e2939d369db0e48426879070b}\label{classPoco_1_1Data_1_1TypeHandler_ad177791e2939d369db0e48426879070b}} 
\index{Poco::Data::TypeHandler$<$ T $>$@{Poco::Data::TypeHandler$<$ T $>$}!extract@{extract}}
\index{extract@{extract}!Poco::Data::TypeHandler$<$ T $>$@{Poco::Data::TypeHandler$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{extract()}{extract()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
static void \mbox{\hyperlink{classPoco_1_1Data_1_1TypeHandler}{Poco\+::\+Data\+::\+Type\+Handler}}$<$ T $>$\+::extract (\begin{DoxyParamCaption}\item[{std\+::size\+\_\+t}]{pos,  }\item[{T \&}]{obj,  }\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} T \&}]{def\+Val,  }\item[{\mbox{\hyperlink{classPoco_1_1Data_1_1AbstractExtractor_a350697d225d9a3ff610a41074ecb6439}{Abstract\+Extractor\+::\+Ptr}}}]{p\+Ext }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 131 of file Type\+Handler.\+h.

Here is the call graph for this function\+:
% FIG 4
Here is the caller graph for this function\+:
% FIG 5
\mbox{\Hypertarget{classPoco_1_1Data_1_1TypeHandler_abe0ce94e087c5dbb986a063818fecbea}\label{classPoco_1_1Data_1_1TypeHandler_abe0ce94e087c5dbb986a063818fecbea}} 
\index{Poco::Data::TypeHandler$<$ T $>$@{Poco::Data::TypeHandler$<$ T $>$}!prepare@{prepare}}
\index{prepare@{prepare}!Poco::Data::TypeHandler$<$ T $>$@{Poco::Data::TypeHandler$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{prepare()}{prepare()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
static void \mbox{\hyperlink{classPoco_1_1Data_1_1TypeHandler}{Poco\+::\+Data\+::\+Type\+Handler}}$<$ T $>$\+::prepare (\begin{DoxyParamCaption}\item[{std\+::size\+\_\+t}]{pos,  }\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} T \&}]{obj,  }\item[{\mbox{\hyperlink{classPoco_1_1Data_1_1AbstractPreparator_a93a2a279420ab875c6d2d989f912dc24}{Abstract\+Preparator\+::\+Ptr}}}]{p\+Preparator }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 137 of file Type\+Handler.\+h.

Here is the call graph for this function\+:
% FIG 6
Here is the caller graph for this function\+:
% FIG 7
\mbox{\Hypertarget{classPoco_1_1Data_1_1TypeHandler_afedafb290457c7cac801ad8e82cea164}\label{classPoco_1_1Data_1_1TypeHandler_afedafb290457c7cac801ad8e82cea164}} 
\index{Poco::Data::TypeHandler$<$ T $>$@{Poco::Data::TypeHandler$<$ T $>$}!size@{size}}
\index{size@{size}!Poco::Data::TypeHandler$<$ T $>$@{Poco::Data::TypeHandler$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
static std\+::size\+\_\+t \mbox{\hyperlink{classPoco_1_1Data_1_1TypeHandler}{Poco\+::\+Data\+::\+Type\+Handler}}$<$ T $>$\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 126 of file Type\+Handler.\+h.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
App\+Frame\+Work/include/\+Poco/\+Data/\mbox{\hyperlink{TypeHandler_8h}{Type\+Handler.\+h}}\end{DoxyCompactItemize}
