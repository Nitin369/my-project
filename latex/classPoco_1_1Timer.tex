\hypertarget{classPoco_1_1Timer}{}\doxysection{Poco\+::Timer Class Reference}
\label{classPoco_1_1Timer}\index{Poco::Timer@{Poco::Timer}}


{\ttfamily \#include $<$Timer.\+h$>$}



Inheritance diagram for Poco\+::Timer\+:
% FIG 0


Collaboration diagram for Poco\+::Timer\+:
% FIG 1
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classPoco_1_1Timer_ae18e0fd1d13a569bfa177a24fb69865f}{Timer}} (long start\+Interval=0, long periodic\+Interval=0)
\item 
virtual \mbox{\hyperlink{classPoco_1_1Timer_aaf288dfd9821cfc61dc224b7421e34ce}{$\sim$\+Timer}} ()
\item 
void \mbox{\hyperlink{classPoco_1_1Timer_ad19e42887efd1ea7c656047399e2a966}{start}} (\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractTimerCallback}{Abstract\+Timer\+Callback}} \&method)
\begin{DoxyCompactList}\small\item\em Stops and destroys the timer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classPoco_1_1Timer_a6004396696b2dd5a112180d8ac1f3b7b}{start}} (\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractTimerCallback}{Abstract\+Timer\+Callback}} \&method, \mbox{\hyperlink{classPoco_1_1Thread_a4c86ded71a250e740cb3a448f112f1e3}{Thread\+::\+Priority}} priority)
\item 
void \mbox{\hyperlink{classPoco_1_1Timer_aeb6a6b1493262161afea2763624f7b86}{start}} (\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractTimerCallback}{Abstract\+Timer\+Callback}} \&method, \mbox{\hyperlink{classPoco_1_1ThreadPool}{Thread\+Pool}} \&thread\+Pool)
\item 
void \mbox{\hyperlink{classPoco_1_1Timer_aac71f593d6248f819c30c56e0ede1d8b}{start}} (\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractTimerCallback}{Abstract\+Timer\+Callback}} \&method, \mbox{\hyperlink{classPoco_1_1Thread_a4c86ded71a250e740cb3a448f112f1e3}{Thread\+::\+Priority}} priority, \mbox{\hyperlink{classPoco_1_1ThreadPool}{Thread\+Pool}} \&thread\+Pool)
\item 
void \mbox{\hyperlink{classPoco_1_1Timer_a416ca5703263d7e121136d1d2d8cd40f}{stop}} ()
\item 
void \mbox{\hyperlink{classPoco_1_1Timer_a7a7efbcfcbcd9b9ff4dd275073a5e8be}{restart}} ()
\item 
void \mbox{\hyperlink{classPoco_1_1Timer_a048dd7be725bf974a54ff222746421aa}{restart}} (long milliseconds)
\item 
long \mbox{\hyperlink{classPoco_1_1Timer_a05d2b0f3e02bf0d0143b72d5a0b31bd3}{get\+Start\+Interval}} () \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\item 
void \mbox{\hyperlink{classPoco_1_1Timer_a9e46e073fb6993618db7d8ef7d1eca4d}{set\+Start\+Interval}} (long milliseconds)
\begin{DoxyCompactList}\small\item\em Returns the start interval. \end{DoxyCompactList}\item 
long \mbox{\hyperlink{classPoco_1_1Timer_a480c4fa73087551d5a184e62bd778978}{get\+Periodic\+Interval}} () \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\item 
void \mbox{\hyperlink{classPoco_1_1Timer_a949d077f78c791f625ab51680bb2e6de}{set\+Periodic\+Interval}} (long milliseconds)
\begin{DoxyCompactList}\small\item\em Returns the periodic interval. \end{DoxyCompactList}\item 
long \mbox{\hyperlink{classPoco_1_1Timer_a20210f97f166691d7d775f0f206cc344}{skipped}} () \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classPoco_1_1Timer_a20bf1784de6d745d805fea3aec49a235}{run}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class implements a thread-\/based timer. A timer starts a thread that first waits for a given start interval. Once that interval expires, the timer callback is called repeatedly in the given periodic interval. If the interval is 0, the timer is only called once. The timer callback method can stop the timer by setting the timer\textquotesingle{}s periodic interval to 0.

The timer callback runs in its own thread, so multithreading issues (proper synchronization) have to be considered when writing the callback method.

The exact interval at which the callback is called depends on many factors like operating system, C\+PU performance and system load and may differ from the specified interval.

The time needed to execute the timer callback is not included in the interval between invocations. For example, if the interval is 500 milliseconds, and the callback needs 400 milliseconds to execute, the callback function is nevertheless called every 500 milliseconds. If the callback takes longer to execute than the interval, the callback function will not be called until the next proper interval. The number of skipped invocations since the last invocation will be recorded and can be obtained by the callback by calling \mbox{\hyperlink{classPoco_1_1Timer_a20210f97f166691d7d775f0f206cc344}{skipped()}}.

The timer thread is taken from a thread pool, so there is a limit to the number of available concurrent timers. 

Definition at line 38 of file Timer.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classPoco_1_1Timer_ae18e0fd1d13a569bfa177a24fb69865f}\label{classPoco_1_1Timer_ae18e0fd1d13a569bfa177a24fb69865f}} 
\index{Poco::Timer@{Poco::Timer}!Timer@{Timer}}
\index{Timer@{Timer}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{Timer()}{Timer()}}
{\footnotesize\ttfamily Poco\+::\+Timer\+::\+Timer (\begin{DoxyParamCaption}\item[{long}]{start\+Interval = {\ttfamily 0},  }\item[{long}]{periodic\+Interval = {\ttfamily 0} }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classPoco_1_1Timer_aaf288dfd9821cfc61dc224b7421e34ce}\label{classPoco_1_1Timer_aaf288dfd9821cfc61dc224b7421e34ce}} 
\index{Poco::Timer@{Poco::Timer}!````~Timer@{$\sim$Timer}}
\index{````~Timer@{$\sim$Timer}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{$\sim$Timer()}{~Timer()}}
{\footnotesize\ttfamily virtual Poco\+::\+Timer\+::$\sim$\+Timer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Creates a new timer object. Start\+Interval and periodic\+Interval are given in milliseconds. If a periodic\+Interval of zero is specified, the callback will only be called once, after the start\+Interval expires. To start the timer, call the Start() method. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classPoco_1_1Timer_a480c4fa73087551d5a184e62bd778978}\label{classPoco_1_1Timer_a480c4fa73087551d5a184e62bd778978}} 
\index{Poco::Timer@{Poco::Timer}!getPeriodicInterval@{getPeriodicInterval}}
\index{getPeriodicInterval@{getPeriodicInterval}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{getPeriodicInterval()}{getPeriodicInterval()}}
{\footnotesize\ttfamily long Poco\+::\+Timer\+::get\+Periodic\+Interval (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Sets the start interval. Will only be effective before \mbox{\hyperlink{classPoco_1_1Timer_ad19e42887efd1ea7c656047399e2a966}{start()}} is called. \mbox{\Hypertarget{classPoco_1_1Timer_a05d2b0f3e02bf0d0143b72d5a0b31bd3}\label{classPoco_1_1Timer_a05d2b0f3e02bf0d0143b72d5a0b31bd3}} 
\index{Poco::Timer@{Poco::Timer}!getStartInterval@{getStartInterval}}
\index{getStartInterval@{getStartInterval}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{getStartInterval()}{getStartInterval()}}
{\footnotesize\ttfamily long Poco\+::\+Timer\+::get\+Start\+Interval (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Sets a new periodic interval and restarts the timer. An interval of 0 will stop the timer. \mbox{\Hypertarget{classPoco_1_1Timer_a7a7efbcfcbcd9b9ff4dd275073a5e8be}\label{classPoco_1_1Timer_a7a7efbcfcbcd9b9ff4dd275073a5e8be}} 
\index{Poco::Timer@{Poco::Timer}!restart@{restart}}
\index{restart@{restart}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{restart()}{restart()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Poco\+::\+Timer\+::restart (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Stops the timer. If the callback method is currently running it will be allowed to finish first. W\+A\+R\+N\+I\+NG\+: Never call this method from within the callback method, as a deadlock would result. To stop the timer from within the callback method, call restart(0). \mbox{\Hypertarget{classPoco_1_1Timer_a048dd7be725bf974a54ff222746421aa}\label{classPoco_1_1Timer_a048dd7be725bf974a54ff222746421aa}} 
\index{Poco::Timer@{Poco::Timer}!restart@{restart}}
\index{restart@{restart}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{restart()}{restart()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Poco\+::\+Timer\+::restart (\begin{DoxyParamCaption}\item[{long}]{milliseconds }\end{DoxyParamCaption})}

Restarts the periodic interval. If the callback method is already running, nothing will happen. \mbox{\Hypertarget{classPoco_1_1Timer_a20bf1784de6d745d805fea3aec49a235}\label{classPoco_1_1Timer_a20bf1784de6d745d805fea3aec49a235}} 
\index{Poco::Timer@{Poco::Timer}!run@{run}}
\index{run@{run}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily void Poco\+::\+Timer\+::run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Returns the number of skipped invocations since the last invocation. Skipped invocations happen if the timer callback function takes longer to execute than the timer interval. 

Implements \mbox{\hyperlink{classPoco_1_1Runnable_ad89816e81207bf5f1e52d5df860d11d4}{Poco\+::\+Runnable}}.

\mbox{\Hypertarget{classPoco_1_1Timer_a949d077f78c791f625ab51680bb2e6de}\label{classPoco_1_1Timer_a949d077f78c791f625ab51680bb2e6de}} 
\index{Poco::Timer@{Poco::Timer}!setPeriodicInterval@{setPeriodicInterval}}
\index{setPeriodicInterval@{setPeriodicInterval}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{setPeriodicInterval()}{setPeriodicInterval()}}
{\footnotesize\ttfamily void Poco\+::\+Timer\+::set\+Periodic\+Interval (\begin{DoxyParamCaption}\item[{long}]{milliseconds }\end{DoxyParamCaption})}



Returns the periodic interval. 

\mbox{\Hypertarget{classPoco_1_1Timer_a9e46e073fb6993618db7d8ef7d1eca4d}\label{classPoco_1_1Timer_a9e46e073fb6993618db7d8ef7d1eca4d}} 
\index{Poco::Timer@{Poco::Timer}!setStartInterval@{setStartInterval}}
\index{setStartInterval@{setStartInterval}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{setStartInterval()}{setStartInterval()}}
{\footnotesize\ttfamily void Poco\+::\+Timer\+::set\+Start\+Interval (\begin{DoxyParamCaption}\item[{long}]{milliseconds }\end{DoxyParamCaption})}



Returns the start interval. 

\mbox{\Hypertarget{classPoco_1_1Timer_a20210f97f166691d7d775f0f206cc344}\label{classPoco_1_1Timer_a20210f97f166691d7d775f0f206cc344}} 
\index{Poco::Timer@{Poco::Timer}!skipped@{skipped}}
\index{skipped@{skipped}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{skipped()}{skipped()}}
{\footnotesize\ttfamily long Poco\+::\+Timer\+::skipped (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Sets the periodic interval. If the timer is already running the new interval will be effective when the current interval expires. \mbox{\Hypertarget{classPoco_1_1Timer_ad19e42887efd1ea7c656047399e2a966}\label{classPoco_1_1Timer_ad19e42887efd1ea7c656047399e2a966}} 
\index{Poco::Timer@{Poco::Timer}!start@{start}}
\index{start@{start}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{start()}{start()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily void Poco\+::\+Timer\+::start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractTimerCallback}{Abstract\+Timer\+Callback}} \&}]{method }\end{DoxyParamCaption})}



Stops and destroys the timer. 

\mbox{\Hypertarget{classPoco_1_1Timer_a6004396696b2dd5a112180d8ac1f3b7b}\label{classPoco_1_1Timer_a6004396696b2dd5a112180d8ac1f3b7b}} 
\index{Poco::Timer@{Poco::Timer}!start@{start}}
\index{start@{start}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{start()}{start()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily void Poco\+::\+Timer\+::start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractTimerCallback}{Abstract\+Timer\+Callback}} \&}]{method,  }\item[{\mbox{\hyperlink{classPoco_1_1Thread_a4c86ded71a250e740cb3a448f112f1e3}{Thread\+::\+Priority}}}]{priority }\end{DoxyParamCaption})}

Starts the timer. Create the \mbox{\hyperlink{classPoco_1_1TimerCallback}{Timer\+Callback}} as follows\+: Timer\+Callback$<$\+My\+Class$>$ callback($\ast$this, \&\+My\+Class\+::on\+Timer); timer.\+start(callback);

The timer thread is taken from the global default thread pool. \mbox{\Hypertarget{classPoco_1_1Timer_aac71f593d6248f819c30c56e0ede1d8b}\label{classPoco_1_1Timer_aac71f593d6248f819c30c56e0ede1d8b}} 
\index{Poco::Timer@{Poco::Timer}!start@{start}}
\index{start@{start}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{start()}{start()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily void Poco\+::\+Timer\+::start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractTimerCallback}{Abstract\+Timer\+Callback}} \&}]{method,  }\item[{\mbox{\hyperlink{classPoco_1_1Thread_a4c86ded71a250e740cb3a448f112f1e3}{Thread\+::\+Priority}}}]{priority,  }\item[{\mbox{\hyperlink{classPoco_1_1ThreadPool}{Thread\+Pool}} \&}]{thread\+Pool }\end{DoxyParamCaption})}

Starts the timer. Create the \mbox{\hyperlink{classPoco_1_1TimerCallback}{Timer\+Callback}} as follows\+: Timer\+Callback$<$\+My\+Class$>$ callback($\ast$this, \&\+My\+Class\+::on\+Timer); timer.\+start(callback); \mbox{\Hypertarget{classPoco_1_1Timer_aeb6a6b1493262161afea2763624f7b86}\label{classPoco_1_1Timer_aeb6a6b1493262161afea2763624f7b86}} 
\index{Poco::Timer@{Poco::Timer}!start@{start}}
\index{start@{start}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{start()}{start()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily void Poco\+::\+Timer\+::start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classPoco_1_1AbstractTimerCallback}{Abstract\+Timer\+Callback}} \&}]{method,  }\item[{\mbox{\hyperlink{classPoco_1_1ThreadPool}{Thread\+Pool}} \&}]{thread\+Pool }\end{DoxyParamCaption})}

Starts the timer in a thread with the given priority. Create the \mbox{\hyperlink{classPoco_1_1TimerCallback}{Timer\+Callback}} as follows\+: Timer\+Callback$<$\+My\+Class$>$ callback($\ast$this, \&\+My\+Class\+::on\+Timer); timer.\+start(callback);

The timer thread is taken from the global default thread pool. \mbox{\Hypertarget{classPoco_1_1Timer_a416ca5703263d7e121136d1d2d8cd40f}\label{classPoco_1_1Timer_a416ca5703263d7e121136d1d2d8cd40f}} 
\index{Poco::Timer@{Poco::Timer}!stop@{stop}}
\index{stop@{stop}!Poco::Timer@{Poco::Timer}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void Poco\+::\+Timer\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Starts the timer in a thread with the given priority. Create the \mbox{\hyperlink{classPoco_1_1TimerCallback}{Timer\+Callback}} as follows\+: Timer\+Callback$<$\+My\+Class$>$ callback($\ast$this, \&\+My\+Class\+::on\+Timer); timer.\+start(callback); 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
App\+Frame\+Work/include/\+Poco/\mbox{\hyperlink{Timer_8h}{Timer.\+h}}\end{DoxyCompactItemize}
